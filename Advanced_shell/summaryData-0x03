#!/bin/bash
echo "Name,Height (m),Weight (kg)" > pokemon_report.csv
total_height=0
total_weight=0
count=0
for file in pokemon_data/*.json; do
    name=$(jq -r '.name' "$file")
    height=$(jq -r '.height/10' "$file")
    weight=$(jq -r '.weight/10' "$file")
    echo "$name,$height,$weight" >> pokemon_report.csv
    total_height=$(awk "BEGIN{print $total_height + $height}")
    total_weight=$(awk "BEGIN{print $total_weight + $weight}")
    ((count++))
done
avg_height=$(awk "BEGIN{print $total_height/$count}")
avg_weight=$(awk "BEGIN{print $total_weight/$count}")
echo -e "\nCSV Report generated at: pokemon_report.csv\n"
cat pokemon_report.csv
echo -e "\nAverage Height: $avg_height m"
echo "Average Weight: $avg_weight kg"
